<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <title>Cadastro de Pessoas</title>
</head>


<body >

<script>
    var dialogue = document.getElementById('cadastroEndereco');
    // function abrirCadastroEndereco(){
    //     dialogue.setAttribute("open","");
    // }

    function fecharCadastroEndereco(){
        dialogue.removeAttribute("open");
    }

    var btnCad = document.getElementById('btnCadastroEndereco');

    btnCad.addEventListener("click", function abrirCadastroEndereco(){
        dialogue.setAttribute("open","");
        console.log("erro");
    });


</script>
<h4>Cadastro de Pessoas</h4>



    <div th:each="p: ${pessoaobj}">
        <div class="row">
            <p>ID: <span th:text="${p.id}"></span></p>
            <p>Nome: <span th:text="${p.nome}"></span></p>
            <p>Sobrenome: <span th:text="${p.sobrenome}"></span></p>
            <p>Email: <span th:text="${p.email}"></span></p>
            <p>Endereço: <span th:text="${p.idade}"></span></p>

        </div>

    </div>

    <div class="card-body">
        <h5 class="header-title">Telefones</h5>

        <div class="">

            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Numero</th>
                    <th>Tipo</th>

                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="t: *{pessoaobj.telefones}">

                    <td th:text = "${t.id}"></td>
                    <td th:text = "${t.numero}"></td>
                    <td th:text = "${t.tipo}"></td>
                    <td><a th:href="@{/editarTelefone/{idtelefone}(idtelefone=${t.id})}" class="btn btn-primary">Editar</a></td>
                    <td><a th:href="@{/excluirTelefone/{idtelefone}(idtelefone=${t.id})}" class="btn btn-danger">Excluir</a></td>

                </tr>
                <tr>
                    <form th:action="@{/addFonePessoa/{pessoaid}(pessoaid=${pessoaobj.id})}" method="post" class="">
                        <td>Id</td>
                        <td><input id="numero" name="numero" class=""></td>
                        <td> <input id="tipo" name="tipo" class=""></td>
                        <td></td>
                        <td><input type="submit" value="Adicionar" class="btn btn-success"></td>


                    </form>

                </tr>
                </tbody>
            </table>
        </div>
    </div>





    <div class="card-body">
        <h5 class="header-title">Endereços</h5>

        <div class="table-responsive">

            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Tipo</th>
                    <th>Rua</th>
                    <th>Número</th>
                    <th>Complemento</th>
                    <th>Bairro</th>
                    <th>Múnicípio</th>
                    <th>Estado</th>
                    <th>Pais</th>

                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="end: *{pessoaobj.enderecos}">

                    <td th:text = "${end.id}"></td>
                    <td th:text = "${end.cep}"></td>
                    <td th:text = "${end.tipo}"></td>
                    <td th:text = "${end.rua}"></td>
                    <td th:text = "${end.numero}"></td>
                    <td th:text = "${end.complemento}"></td>
                    <td th:text = "${end.bairro}"></td>
                    <td th:text = "${end.cidade}"></td>
                    <td th:text = "${end.uf}"></td>
                    <td th:text = "${end.pais}"></td>
                    <td th:text = "${end.ibge}"></td>
                    <td><a th:href="@{/editarendereco/{idendereco}(idendereco=${end.id})}" class="btn btn-primary">Editar</a></td>
                    <td><a th:href="@{/excluirEndereco/{idendereco}(idendereco=${end.id})}" class="btn btn-danger">Excluir</a></td>

                </tr>


<!--                <tr>-->
<!--                    <form th:action="@{/addEnderecoPessoa/{pessoaid}(pessoaid=${pessoaobj.id})}" method="post" class="">-->
<!--                        <td>Id</td>-->
<!--                        <td> <input id="tipo" name="tipo" class=""></td>-->
<!--                        <td> <input id="rua" name="rua" class=""></td>-->
<!--                        <td> <input id="numero" name="numero" class=""></td>-->
<!--                        <td> <input id="complemento" name="complemento" class=""></td>-->
<!--                        <td> <input id="bairro" name="bairro" class=""></td>-->
<!--                        <td> <input id="municipio" name="municipio" class=""></td>-->
<!--                        <td> <input id="estado" name="estado" class=""></td>-->
<!--                        <td> <input id="pais" name="pais" class=""></td>-->


<!--                        <td><input type="submit" value="Salvar" class="btn btn-success"></td>-->


<!--                    </form>-->

<!--                </tr>-->
                </tbody>
                <tr>
                    <td colspan="11"><a class="btn btn-success" th:href="@{/novoendereco/{idpessoa}(idpessoa=${pessoaobj.getId()})}">Cadastro Novo Endereço</a></td>
                </tr>
            </table>
        </div>
    </div>

</body>





</html>